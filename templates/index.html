<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Infection Simulator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
    <h1>Infection Simulator</h1>
    <a href="https://reedhodges.github.io/">https://reedhodges.github.io/</a>
    <p>Adjust the disease parameters to see how the simulation changes.</p>
    <hr>

    <table>
        <tr>
            <td><label for="num-dots">Number of Individuals:</label></td>
            <td><input type="range" id="num-dots" name="num-dots" min="10" max="500" value="250"></td>
            <td><span id="num-dots-value">250</span></td>
        </tr>
        <tr>
            <td><label for="infection-rate">Infection Rate:</label></td>
            <td><input type="range" id="infection-rate" name="infection-rate" min="0" max="1" step="0.01" value="0.5"></td>
            <td><span id="infection-rate-value">0.5</span></td>
        </tr>
        <tr>
            <td><label for="infection-distance">Infection Distance:</label></td>
            <td><input type="range" id="infection-distance" name="infection-distance" min="1" max="30" value="15"></td>
            <td><span id="infection-distance-value">15</span></td>
        </tr>
        <tr>
            <td><label for="inoculation-rate">Inoculation Rate:</label></td>
            <td><input type="range" id="inoculation-rate" name="inoculation-rate" min="0" max="1" step="0.01" value="0.1"></td>
            <td><span id="inoculation-rate-value">0.1</span></td>
        </tr>
        <tr>
            <td><label for="inoculation-efficacy">Inoculation Efficacy:</label></td>
            <td><input type="range" id="inoculation-efficacy" name="inoculation-efficacy" min="0" max="1" step="0.01" value="0.5"></td>
            <td><span id="inoculation-efficacy-value">0.5</span></td>
        </tr>
        <tr>
            <td><label for="mortality-rate">Mortality Rate:</label></td>
            <td><input type="range" id="mortality-rate" name="mortality-rate" min="0" max="1" step="0.01" value="0.2"></td>
            <td><span id="mortality-rate-value">0.2</span></td>
        </tr>
        <tr>
            <td><label for="recovery-time">Recovery Time (frames):</label></td>
            <td><input type="range" id="recovery-time" name="recovery-time" min="60" max="600" value="200"></td>
            <td><span id="recovery-time-value">200</span></td>
        </tr>
        <tr>
            <td><label for="frame-rate">Simulation Speed (fps):</label></td>
            <td><input type="range" id="frame-rate" name="frame-rate" min="10" max="120" value="30"></td>
            <td><span id="frame-rate-value">30</span></td>
        </tr>
    </table>

    <button onclick="updateSimulationParameters()">Update Simulation</button>

    <hr>

    <table>
        <tr>
            <td>
                <div id="simulation">
                    <!-- p5.js canvas will go here -->
                </div>
            </td>
            <td>
                <div id="counters">
                    <p style="color:blue;">Healthy, inoculated: <span id="healthy-inoculated-counter">0</span></p>
                    <p style="color:black">Healthy, not inoculated: <span id="healthy-not-inoculated-counter">0</span></p>
                    <p style="color:red">Infected: <span id="infected-counter">0</span></p>
                    <p style="color:green">Recovered: <span id="recovered-counter">0</span></p>
                    <p style="color:gray">Dead: <span id="dead-counter">0</span></p>
                </div>
            </td>
        </tr>
    </table>    

    <script src="{{ url_for('static', filename='js/sketch.js') }}"></script>
    <script src="{{ url_for('static', filename='js/slider.js') }}"></script>



</body>
</html>